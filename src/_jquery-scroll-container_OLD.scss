/***********************************************
    jquery-scroll-container.scss, 

    (c) 2017, FCOO

    https://github.com/FCOO/jquery-scroll-container
    https://github.com/FCOO

    USING MODIFIED VERSIONS OF THE STYLE 
    FROM JQUERY.SCROLLBAR 
    https://github.com/gromo/jquery.scrollbar

************************************************/
//BOURBON - http://bourbon.io/
@import "../bower_components/bourbon/app/assets/stylesheets/bourbon";

$scrollbar-size  : 3rem / 16;
$scrollbar-margin: 3rem / 16;
$scroll-size     : $scrollbar-margin + $scrollbar-size + $scrollbar-margin;

//Extended bar when hover and dragging
$scrollbar-margin-extended: 1rem / 16;
$scrollbar-size-extended  : $scroll-size - 2 * $scrollbar-margin-extended;


$scroll-shadow-size: 4rem / 16; 


@import "_perfect-scrollbar-0.7.1_source/src/css/main";

/*********************************************************
COPYED AND MODIFIED FROM 
../bower_components/jquery.scrollbar/sass/jquery.scrollbar.scss
**********************************************************/
/*************** SCROLLBAR BASE CSS ***************/
.scroll-wrapper {
    overflow: hidden !important;
    padding : 0 !important;
    position: relative;

    & > .scroll-content {
        position  : relative !important;
        left      : 0;
        top       : 0;
        margin    : 0;
        padding   : 0;

        border    : none !important;
        box-sizing: content-box !important;

        height    : auto;
        max-height: none;

        width     : auto !important;
        max-width : none !important;

        overflow  : scroll !important;

        &::-webkit-scrollbar {
            height: 0;
            width : 0;
        }
    }
    &.scroll--rtl {
        direction: rtl;
    }
}

.scroll-element {
    box-sizing: content-box;
    display   : none;

    div {
        box-sizing: content-box;
    }
    .scroll-bar,
    .scroll-arrow {
        cursor: default;
    }

    &.scroll-x.scroll-scrollx_visible,
    &.scroll-y.scroll-scrolly_visible {
        display: block;
    }
}

.scroll-textarea {
    border          : 1px solid #cccccc;
    border-top-color: #999999;

    & > .scroll-content {
        overflow: hidden !important;

        & > textarea {
            border    : none !important;
            box-sizing: border-box;
            height    : 100% !important;
            margin    : 0;
            max-height: none !important;
            max-width : none !important;
            overflow  : scroll !important;
            outline   : none;
            padding   : $scrollbar-margin; 
            position  : relative !important;
            top       : 0;
            width     : 100% !important;

            &::-webkit-scrollbar {
                height: 0;
                width : 0;
            }
        }
    }
}

/**************************************************************************************
INNER
**************************************************************************************/

.scrollbar-inner > .scroll-element,
.scrollbar-inner > .scroll-element div {
    border  : none;
    margin  : 0;
    padding : 0;
    position: absolute;
    z-index : 10;
}

.scrollbar-inner > .scroll-element div {
    display: block;
    height : 100%;
    left   : 0;
    top    : 0;
    width  : 100%;
}

/*********************
Dimentions and positions
*********************/
//Horizontal scrollbar
.scrollbar-inner > .scroll-element.scroll-x {
    bottom: 0; 
    height: $scroll-size; 
    left  : 0;
    width : 100%;

    //Adjust when both scrollbars are visible
    &.scroll-scrolly_visible {
        .scroll-element_track, .scroll-element_size { 
            left: - $scroll-size; 
        }
    }
}

//Vertical scrollbar
.scrollbar-inner > .scroll-element.scroll-y {
    height: 100%;
    right : 0; 
    top   : 0;
    width : $scroll-size; 

    //Adjust when both scrollbars are visible
    &.scroll-scrollx_visible {
        .scroll-element_track, .scroll-element_size { 
            top: - $scroll-size; 
        }
    }
}

.scrollbar-inner > .scroll-element .scroll-element_outer {
    overflow: hidden;
    background-color: rgba(255,255,255, 0.5);
}

/*********************
Disable scrolling with scrollbar on touch-device
*********************/
.touchevents .scroll-element_track { z-index: 100; }

/*********************
Border and padding
*********************/
.scrollbar-inner > .scroll-element {
    .scroll-element_track, .scroll-bar {

        background-clip: content-box;
        box-sizing     : border-box;

        padding        : $scrollbar-margin; 

        //:after gives the shape and color
        &:after {
            display      : block;
            box-sizing   : border-box;
            width        : 100%; 
            height       : 100%; 
            content      : ""; 
            border-radius: $scrollbar-size / 2;
        }
    }


    //Adjust padding-width
    &.scroll-y {
        .scroll-element_track, .scroll-bar {
            padding-top   : 0; 
            padding-bottom: 0;
        }
    }
    &.scroll-x {
        .scroll-element_track, .scroll-bar {
            padding-left : 0; 
            padding-right: 0;
        }
    }
}

/*********************
Color and Opacity
*********************/
$track-background-opacity: 0.2;
@mixin scrollbar-background( $opacity: $track-background-opacity, $extended: false ){
    @if ($extended){
        padding: $scrollbar-margin-extended; 
    }
    &:after {
        background-color: rgba(0,0,0, $opacity);
        @if ($extended){
            border-radius: $scrollbar-size-extended / 2;
        }
    }
}

%track-background-extended {
    @include scrollbar-background($track-background-opacity, true);    
}


//Normal
.scrollbar-inner > .scroll-element {
    .scroll-element_track, .scroll-bar {
        transition: padding .2s ease-in-out;
    }
    .scroll-element_track:after, .scroll-bar:after {
        transition: opacity .2s ease-in-out, background-color .2s ease-in-out, padding .2s ease-in-out, border-radius .2s ease-in-out;
    }

    //Bar
    .scroll-bar           { @include scrollbar-background() }
    //Slider
    .scroll-element_track { @include scrollbar-background(0) }
}


//Hover contents - but only for non toush devices
.no-touchevents .scrollbar-inner {

    &:hover > .scroll-element {
        //Bar
        .scroll-bar           { @include scrollbar-background(.29) }
        //Slider
        .scroll-element_track { @include scrollbar-background() }
    }

    //Hover scrollbar
    & > .scroll-element:hover {
        //Bar
        .scroll-bar           { @include scrollbar-background(.44, true) }
        //Slider
        .scroll-element_track { @extend %track-background-extended }
    }

    //Dragging scrollbar
    & > .scroll-element.scroll-draggable {
        //Bar
        .scroll-bar           { @include scrollbar-background(.62, true); }
        //Slider
        .scroll-element_track { @extend %track-background-extended }
    }
}

/*********************************************************
END OF ../bower_components/jquery.scrollbar/sass/jquery.scrollbar.scss
**********************************************************/

.ps {
    position: relative; border: 10px solid red;
}

//Container with contents
.jquery-scroll-container {
    background-color: transparent;
    padding: 0;
    margin : 0;

    .scrollbar-horizontal & /*, .scrollbar-both &*/ {
        padding-left : $scroll-shadow-size;
        padding-right: $scroll-shadow-size;
        margin-top   : $scroll-shadow-size; 
        margin-bottom: $scroll-size; 

        & > *:first-child {
            margin-left: 0 !important;
        }
        & > *:last-child {
            margin-right: 0 !important;
        }
    }

    .scrollbar-vertical & /*, .scrollbar-both & */ {
        padding-top   : $scroll-shadow-size;
        padding-bottom: $scroll-shadow-size;
        margin-left   : $scroll-size; 
        margin-right  : $scroll-size; 

        & > *:first-child {
            margin-top: 0 !important;
        }
        & > *:last-child {
            margin-bottom: 0 !important;
        }
    }
}


// Adding shadow at the top/bottom when scrolling to .scroll-wrapper
//.scroll-wrapper {
.ps {
    $shadow-color   : rgba(0,0,0,0.5);
    $no-shadow-color: rgba(0,0,0,0);
    $shadow-size    : 1.5 * $scroll-shadow-size; 
    $spread         : -1 * $scroll-shadow-size;

    $top-shadow      : inset 0    $shadow-size $shadow-size $spread $shadow-color;
    $no-top-shadow   : inset 0    $shadow-size $shadow-size $spread $no-shadow-color;
    $bottom-shadow   : inset 0 -1*$shadow-size $shadow-size $spread $shadow-color;
    $no-bottom-shadow: inset 0 -1*$shadow-size $shadow-size $spread $no-shadow-color;

    $left-shadow     : inset    $shadow-size 0 $shadow-size $spread $shadow-color;
    $no-left-shadow  : inset    $shadow-size 0 $shadow-size $spread $no-shadow-color;
    $right-shadow    : inset -1*$shadow-size 0 $shadow-size $spread $shadow-color;
    $no-right-shadow : inset -1*$shadow-size 0 $shadow-size $spread $no-shadow-color;

    //Adding shadow to the .scroll-wrapper. Using :before and :after to allow inner shadow on <ul>-<li>
    &.scrollbar-horizontal, &.scrollbar-vertical {
    
        &:before, &:after{ 
            content   : "";
            position  : absolute;
            display   : none;
            background: transparent;
            z-index   : 10000;
            transition: box-shadow 0.1s linear;
        }
    }

    //Horizontal scrolling => shadow to the left and/or right
    &.scrollbar-horizontal {
        //Position
        &:before, &:after {
            top   : 0;
            bottom: 0;
            width : $shadow-size;
        }
        &:before { left : 0; }
        &:after  { right: 0; }

        //Show shadow
        &.shadow-left:before { 
            display   : inline-block;
            box-shadow: $left-shadow, $no-right-shadow;    
        }

        &.shadow-right:after { 
            display   : inline-block;
            box-shadow: $no-left-shadow, $right-shadow;    
        }
    }

    //Vertical scrolling => shadow at the top and/or bottom
    &.scrollbar-vertical {
        //Position
        &:before, &:after {
            left  : 0; 
            right : 0; 
            height: $shadow-size;
        }
        &:before { top   : 0; }
        &:after  { bottom: 0; }
        
        //Show shadow
        &.shadow-top:before { 
            display   : inline-block;
            box-shadow: $top-shadow, $no-bottom-shadow;    
        }

        &.shadow-bottom:after { 
            display   : inline-block;
            box-shadow: $no-top-shadow, $bottom-shadow;    
        }
    }
}

